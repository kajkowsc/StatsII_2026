library(tidyverse)
library(stargazer)
library(stargazer)
library(tidyverse)
setwd("~/Desktop/Trinity/StatsII_2026/tutorials/Week 1/my_tutorial_1 ")
setwd("~/Desktop/Trinity/StatsII_2026/tutorials/Week 1")
## loading the data
data <- read.csv("tutorial01_data.csv")
View(data)
View(data)
data <- read.csv("tutorial01_data.csv",
col_types = cols(
"Ease of doing business rank (1=most business-friendly regulations)" = col_double(),
"Tax revenue (% of GDP)" = col_double(),
"GDP per capita (current US$)" =col_double()))
data <- read.csv("tutorial01_data.csv",
col_types = cols(
`Ease of doing business rank (1=most business-friendly regulations)` = col_double(),
`Tax revenue (% of GDP)` = col_double(),
`GDP per capita (current US$)` =col_double()))
data <- read.csv("tutorial01_data.csv",
col_types = cols(
`Ease of doing business rank (1=most business-friendly regulations)` = col_double(),
`Tax revenue (% of GDP)` = col_double(),
`GDP per capita (current US$)` =col_double()))
library(tidyverse)
library(stargazer)
getwd()
data <- read.csv("tutorial01_data.csv",
col_types = cols(
`Ease of doing business rank (1=most business-friendly regulations)` = col_double(),
`Tax revenue (% of GDP)` = col_double(),
`GDP per capita (current US$)` =col_double()))
data <- read.csv("tutorial01_data.csv",
col_types = cols(
`Ease of doing business rank (1=most business-friendly regulations)` = col_double(),
`Tax revenue (% of GDP)` = col_double(),
`GDP per capita (current US$)` = col_double()))
data <- read_csv("tutorial01_data.csv",
col_types = cols(
`Ease of doing business rank (1=most business-friendly regulations)` = col_double(),
`Tax revenue (% of GDP)` = col_double(),
`GDP per capita (current US$)` = col_double()))
## loading the data
data <- read_csv("tutorial01_data.csv")
data <- read_csv("tutorial01_data.csv",
col_types = cols(
`Ease of doing business rank (1=most business-friendly regulations)` = col_double(),
`Tax revenue (% of GDP)` = col_double(),
`GDP per capita (current US$)` = col_double()))
str(data)
# 1. First, let's have a look at our data object. Use the functions we learned from last
#    term.
str(data)
ls(data)
head(data)
# 2. Let's drop the rows and columns we don't need.
# We only have one year, so the two cols related to year can be dropped; also, we only
# really need one col for country name, so let's drop country code too.
data <- data %>%
select(-(starts_with("Time")), -('Country Code'))
data <- data %>%
select(`Ease of doing business rank (1=most business-friendly regulations)`,
`Tax revenue (% of GDP)`,
`GDP per capita (current US$)`)
data <- data %>%
select(`Ease of doing business rank (1=most business-friendly regulations)`,
`Tax revenue (% of GDP)`,
`GDP per capita (current US$)`,
'Country')
str(data)
## loading the data
data <- read_csv("tutorial01_data.csv")
data <- read_csv("tutorial01_data.csv",
col_types = cols(
`Ease of doing business rank (1=most business-friendly regulations)` = col_double(),
`Tax revenue (% of GDP)` = col_double(),
`GDP per capita (current US$)` = col_double()))
data <- data %>%
select(`Ease of doing business rank (1=most business-friendly regulations)`,
`Tax revenue (% of GDP)`,
`GDP per capita (current US$)`,
'Country Name')
names(data) <- #hint: try using the function sub() with the regexp " \\[.*"
#### Analysing the data
# Now that we have a dataset in the desired format, we can proceed to the analysis.
# 1. Let's perform some preliminary descriptive analysis using our visualisation skills.
#    Try using ggplot to create a plot of scatter showing GDP p/c vs Tax revenue. Add a
#    simple linear regression line.
# 2. Now let's try the same using GDP p/c vs Ease of Doing Business.
# 3. And, for the sake of argument, let's see what the relationship is between Tax and
#    Ease of Doing Business.
# 4. Let's think for a minute before we perform the multivariate regression: what kind
#    of interaction are we seeing with these three plots?
# 5. Now let's run a regression!
formula <- `GDP per capita (current US$)` ~ `Tax revenue (% of GDP)` + `Ease of doing business rank (1=most business-friendly regulations)`
names(data) <- #hint: try using the function sub() with the regexp " \\[.*"
names(data) <- sub("\\[.*", "", names(data))
names(data) <- #hint: try using the function sub() with the regexp " \\[.*"
names(data) <- sub(" \\[.*", "", names(data))
## loading the data
data <- read_csv("tutorial01_data.csv")
data <- read_csv("tutorial01_data.csv",
col_types = cols(
`Ease of doing business rank (1=most business-friendly regulations)` = col_double(),
`Tax revenue (% of GDP)` = col_double(),
`GDP per capita (current US$)` = col_double()))
data <- data %>%
select(-(starts_with("Time")), -('Country Code'))
names(data) <- #hint: try using the function sub() with the regexp " \\[.*"
names(data) <- sub(" \\[.*", "", names(data))
library(ggplot)
library(ggplot2)
data %>%
ggplot(aes('tax revenue (% of GDP)', 'GDP per capita (current US$)'))
geom_point() +
geom_smooth(method = "lm")
data %>%
ggplot(aes('tax revenue (% of GDP)', 'GDP per capita (current US$)')) +
geom_point() +
geom_smooth(method = "lm")
data %>%
ggplot(aes('Tax revenue (% of GDP)', 'GDP per capita (current US$)')) +
geom_point() +
geom_smooth(method = "lm")
plot <- data %>% ggplot(aes('Tax revenue (% of GDP)', 'GDP per capita (current US$)')) +
geom_point() +
geom_smooth(method = "lm")
## loading the data
data <- read_csv("tutorial01_data.csv")
data <- read_csv("tutorial01_data.csv",
col_types = cols(
`Ease of doing business rank (1=most business-friendly regulations)` = col_double(),
`Tax revenue (% of GDP)` = col_double(),
`GDP per capita (current US$)` = col_double()))
data <- data %>%
select(-(starts_with("Time")), -('Country Code'))
names(data) <- #hint: try using the function sub() with the regexp " \\[.*"
names(data) <- sub(" \\[.*", "", names(data))
data %>%
ggplot(aes('Tax revenue (% of GDP)', 'GDP per capita (current US$)')) +
geom_point() +
geom_smooth(method = "lm")
head(data)
data %>%
ggplot(aes(`Tax revenue (% of GDP)`, `GDP per capita (current US$)`)) +
geom_point() +
geom_smooth(method = "lm")
source("~/Desktop/Trinity/StatsII_2026/tutorials/Week 1/tutorial01_CK.R", echo = TRUE)
data %>%
ggplot(aes(`Tax revenue (% of GDP)`, `Ease of doing business rank (1=most business-friendly regulations)`)) +
geom_point() +
geom_smooth(method = "lm")
data %>%
ggplot(aes(`Ease of doing business rank (1=most business-friendly regulations)`, `Tax revenue (% of GDP)`)) +
geom_point() +
geom_smooth(method = "lm")
formula <- `GDP per capita (current US$)` ~ `Tax revenue (% of GDP)` + `Ease of doing business rank (1=most business-friendly regulations)`
print(formula)
reg <- lm(formula, data)
summary(reg)
summary(reg)
data %>%
ggplot(aes(`Tax revenue (% of GDP)`,
`GDP per capita (current US$)`,
alpha = `Ease of doing business rank (1=most business-friendly regulations)`)) +
geom_point() +
# 2. Regression table
# We'll use stargazer to create the latex code for our regression table. Clear your
# console, then run the code below.
stargazer()
data %>%
ggplot(aes(`Tax revenue (% of GDP)`,
`GDP per capita (current US$)`,
alpha = `Ease of doing business rank (1=most business-friendly regulations)`)) +
geom_point())
data %>%
ggplot(aes(`Tax revenue (% of GDP)`,
`GDP per capita (current US$)`,
alpha = `Ease of doing business rank (1=most business-friendly regulations)`)) +
geom_point()))
stargazer()
dev.off()
dev.off()
pdf("test.pdf")
data %>%
ggplot(aes(`Tax revenue (% of GDP)`, `GDP per capita (current US$)`)) +
geom_point() +
geom_smooth(method = "lm")
dev.off()
pdf("test.pdf")
data %>%
ggplot(aes(`Tax revenue (% of GDP)`, `GDP per capita (current US$)`)) +
geom_point() +
geom_smooth(method = "lm")
dev.off()
stargazer(reg, type = "latex")
