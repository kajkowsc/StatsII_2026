getwd()
## loading the data
data <- read.csv("tutorial_2_data.csv")
data_raw <- read.csv("tutorial_2_data.csv")
data_raw <- read.csv("tutorial_2_data.csv")
#or read_excel by using the readxl package to get multiple sheets
str(data_raw)
names(data_raw)
library(tidyverse)
library(stargazer)
library(tidyverse)
library(stargazer)
library(ggplot2)
library(readxl)
data <- read.csv("tutorial_2_data.csv")
#or read_excel by using the readxl package to get multiple sheets
str(data)
names(data)
data <- data %>%
select(
codewdi,
country,
year,
`time to regular turnover`,
`regular turnover dummy`,
`irregular turnover dummy`,
`legal duration`
) %>%
mutate(
codewdi = as.factor(codewdi),
country = as.factor(country),
year = as.integer(year),
time_to_regular_turnover = as.integer(`time to regular turnover`),
regular_turnover = as.integer(`regular turnover dummy`),
irregular_turnover = as.integer(`irregular turnover dummy`),
legal_duration = as.integer(`legal durartion`)
) %>%
drop_na()
View(data)
View(data)
View(data)
data <- data %>%
select(
codewdi,
country,
year,
time.to.regular.turnover,
`regular turnover dummy`,
`irregular turnover dummy`,
`legal duration`
) %>%
mutate(
codewdi = as.factor(codewdi),
country = as.factor(country),
year = as.integer(year),
time_to_regular_turnover = as.integer(time.to.regular.turnover),
regular_turnover = as.integer(`regular turnover dummy`),
irregular_turnover = as.integer(`irregular turnover dummy`),
legal_duration = as.integer(`legal durartion`)
) %>%
drop_na()
data <- data %>%
select(
codewdi,
country,
year,
time.to.regular.turnover,
regular.turnover.dummy,
irregular.turnover.dummy,
legal.duration
) %>%
mutate(
codewdi = as.factor(codewdi),
country = as.factor(country),
year = as.integer(year),
time_to_regular_turnover = as.integer(time.to.regular.turnover),
regular_turnover = as.integer(regular.turnover.dummy),
irregular_turnover = as.integer(irregular.turnover.dummy),
legal_duration = as.integer(legal.durartion)
) %>%
drop_na()
data <- data %>%
select(
codewdi,
country,
year,
time.to.regular.turnover,
regular.turnover.dummy,
irregular.turnover.dummy,
legal.duration
) %>%
mutate(
codewdi = as.factor(codewdi),
country = as.factor(country),
year = as.integer(year),
time_to_regular_turnover = as.integer(time.to.regular.turnover),
regular_turnover = as.integer(regular.turnover.dummy),
irregular_turnover = as.integer(irregular.turnover.dummy),
legal_duration = as.integer(legal.duration)
) %>%
drop_na()
data <- read.csv("tutorial_2_data.csv")
#or read_excel by using the readxl package to get multiple sheets
str(data)
names(data)
data <- data %>%
select(
codewdi,
country,
year,
`time.to.regular.turnover`,
`regular.turnover.dummy`,
`irregular.turnover.dummy`,
`legal.duration`
) %>%
mutate(
codewdi = as.factor(codewdi),
country = as.factor(country),
year = as.integer(year),
time_to_regular_turnover = as.integer(`time.to.regular.turnover`),
regular_turnover = as.integer(`regular.turnover.dummy`),
irregular_turnover = as.integer(`irregular.turnover.dummy`),
legal_duration = as.integer(`legal.duration`)
) %>%
drop_na()
data <- data %>%
select(
codewdi,
country,
year,
time_to_regular_turnover,
regular_turnover,
irregular_turnover,
legal_duration
)
str(data)
unique(data$year)
unique(data$time_to_regular_turnover)
unique(data$regular_turnover)
unique(data$irregular_turnover)
unique(data$legal_duration)
bad_codes <- c(-999, -666, -555, -881)
data <- data %>%
mutate(
across(
c(year, time_to_regular_turnover, regular_turnover, irregular_turnover, legal_duration
),
-replace(., . %in% bad_codes, NA)
)
)
data <- data %>%
mutate(
across(
c(year, time_to_regular_turnover, regular_turnover, irregular_turnover, legal_duration
),
~ replace(., . %in% bad_codes, NA)
)
)
unique(data$year)
unique(data$time_to_regular_turnover)
unique(data$regular_turnover)
unique(data$irregular_turnover)
unique(data$legal_duration)
data <- data %>% drop_na()
#### Descriptive patterns in turnover
# Compute the average turnover rate (mean of turnover) by country over the full sample period
country_turnover <- data %>%
group_by(country) %>%
summarize(
avg_turnover = mean(irregular_turnover),
n = n()
)
View(country_turnover)
# (a) Which five countries have the highest average turnover rates?
country_turnover %>%
arrange(desc(avg_turnover)) %>%
slice(1:5)
country_turnover %>%
arrange(avg_turnover) %>%
slice(1:5)
lpm <- lm(data = data, irregular_turnover ~ time_to_regular_turnover + legal_duration)
View(lpm)
print(lpm)
